<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleIni: simpleini</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SimpleIni
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">simpleini</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><img src="https://github.com/brofield/simpleini/actions/workflows/build-and-test.yml/badge.svg" alt="Latest Test Results" style="pointer-events: none;" class="inline"/></p>
<p>A cross-platform library that provides a simple API to read and write INI-style configuration files. It supports data files in ASCII, MBCS and Unicode. It is designed explicitly to be portable to any platform and has been tested on Windows, WinCE and Linux. Released as open-source and free using the MIT licence.</p>
<p><a href="https://brofield.github.io/simpleini/">Full documentation</a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Feature Summary</h1>
<ul>
<li>MIT Licence allows free use in all software (including GPL and commercial)</li>
<li>multi-platform: Windows (from 95 to 11, CE), Linux, MacOS</li>
<li>loading and saving of INI-style configuration files</li>
<li>configuration files can have any newline format on all platforms</li>
<li>liberal acceptance of file format<ul>
<li>key/values with no section, keys with no value</li>
<li>removal of whitespace around sections, keys and values</li>
</ul>
</li>
<li>support for multi-line values (values with embedded newline characters)</li>
<li>optional support for multiple keys with the same name</li>
<li>optional case-insensitive sections and keys (for ASCII characters only)</li>
<li>saves files with sections and keys in the same order as they were loaded</li>
<li>preserves comments on the file, section and keys where possible</li>
<li>supports both char or wchar_t programming interfaces</li>
<li>supports both MBCS (system locale) and UTF-8 file encodings</li>
<li>supports ICU as conversion library on all platforms</li>
<li>system locale does not need to be UTF-8 on Linux/Unix to load UTF-8 file</li>
<li>support for non-ASCII characters in section, keys, values and comments</li>
<li>support for non-standard character types or file encodings via user-written converter classes</li>
<li>support for adding/modifying values programmatically</li>
<li>should compile with no warnings in most compilers</li>
</ul>
<h1><a class="anchor" id="autotoc_md1"></a>
Documentation</h1>
<p>Full documentation of the interface is available in doxygen format. See <a href="https://brofield.github.io/simpleini/">latest documentation here</a>.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Installation</h1>
<p>SimpleIni is a header-only library. No building is required to use it in your project.</p>
<p>Simply include <code><a class="el" href="SimpleIni_8h_source.html">SimpleIni.h</a></code> in your source files:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &quot;SimpleIni.h&quot;</span></div>
</div><!-- fragment --><p>That's it! The library is ready to use.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Building and Testing</h1>
<p>While the library itself doesn't require building, you can build and run the test suite using CMake.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Building with CMake</h2>
<div class="fragment"><div class="line"># Configure the project</div>
<div class="line">cmake -S . -B build</div>
<div class="line"> </div>
<div class="line"># Build the tests (optional)</div>
<div class="line">cmake --build build</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
Running Tests</h2>
<p>After building, run the tests with:</p>
<div class="fragment"><div class="line"># Run all tests</div>
<div class="line">cd build</div>
<div class="line">ctest</div>
<div class="line"> </div>
<div class="line"># Or run with verbose output</div>
<div class="line">ctest --verbose</div>
<div class="line"> </div>
<div class="line"># Or run tests directly</div>
<div class="line">cd tests</div>
<div class="line">./simpleini-tests</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
CMake Integration</h2>
<p>To use SimpleIni in your CMake project:</p>
<div class="fragment"><div class="line"># Add SimpleIni as a subdirectory</div>
<div class="line">add_subdirectory(simpleini)</div>
<div class="line"> </div>
<div class="line"># Link against your target</div>
<div class="line">target_link_libraries(your_target PRIVATE SimpleIni::SimpleIni)</div>
</div><!-- fragment --><p>Or install it system-wide:</p>
<div class="fragment"><div class="line">cmake -S . -B build</div>
<div class="line">cmake --build build</div>
<div class="line">sudo cmake --install build</div>
</div><!-- fragment --><p>Then in your CMake project:</p>
<div class="fragment"><div class="line">find_package(SimpleIni REQUIRED)</div>
<div class="line">target_link_libraries(your_target PRIVATE SimpleIni::SimpleIni)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7"></a>
Examples</h1>
<p>These snippets are included with the distribution in the automatic tests as ts-snippets.cpp.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
SIMPLE USAGE</h3>
<div class="fragment"><div class="line">++</div>
<div class="line">   <span class="comment">// simple demonstration</span></div>
<div class="line"> </div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">CSimpleIniA</a> <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.SetUnicode();</div>
<div class="line"> </div>
<div class="line">   SI_Error <a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.LoadFile(<span class="stringliteral">&quot;example.ini&quot;</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> &lt; 0) { <span class="comment">/* handle error */</span> };</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a>, SI_OK);</div>
<div class="line"> </div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetValue(<span class="stringliteral">&quot;section&quot;</span>, <span class="stringliteral">&quot;key&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_STREQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>, <span class="stringliteral">&quot;value&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.SetValue(<span class="stringliteral">&quot;section&quot;</span>, <span class="stringliteral">&quot;key&quot;</span>, <span class="stringliteral">&quot;newvalue&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetValue(<span class="stringliteral">&quot;section&quot;</span>, <span class="stringliteral">&quot;key&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_STREQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>, <span class="stringliteral">&quot;newvalue&quot;</span>);</div>
<div class="ttc" id="astructSI__GenericNoCase_html"><div class="ttname"><a href="structSI__GenericNoCase.html">SI_GenericNoCase</a></div><div class="ttdef"><b>Definition</b> SimpleIni.h:2879</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md9"></a>
LOADING DATA</h3>
<div class="fragment"><div class="line">++</div>
<div class="line">   <span class="comment">// load from a data file</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">CSimpleIniA</a> <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>;</div>
<div class="line">   SI_Error <a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.LoadFile(<span class="stringliteral">&quot;example.ini&quot;</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> &lt; 0) { <span class="comment">/* handle error */</span> };</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a>, SI_OK);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// load from a string</span></div>
<div class="line">   <span class="keyword">const</span> std::string <a class="code hl_struct" href="structSI__GenericNoCase.html">example</a> = <span class="stringliteral">&quot;[section]\nkey = value\n&quot;</span>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">CSimpleIniA</a> <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>;</div>
<div class="line">   SI_Error <a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.LoadData(<a class="code hl_struct" href="structSI__GenericNoCase.html">example</a>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> &lt; 0) { <span class="comment">/* handle error */</span> };</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a>, SI_OK);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
GETTING SECTIONS AND KEYS</h3>
<div class="fragment"><div class="line">++</div>
<div class="line">   <span class="comment">// get all sections</span></div>
<div class="line">   CSimpleIniA::TNamesDepend <a class="code hl_struct" href="structSI__GenericNoCase.html">sections</a>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetAllSections(<a class="code hl_struct" href="structSI__GenericNoCase.html">sections</a>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// get all keys in a section</span></div>
<div class="line">   CSimpleIniA::TNamesDepend <a class="code hl_struct" href="structSI__GenericNoCase.html">keys</a>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetAllKeys(<span class="stringliteral">&quot;section1&quot;</span>, <a class="code hl_struct" href="structSI__GenericNoCase.html">keys</a>);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md11"></a>
GETTING VALUES</h3>
<div class="fragment"><div class="line">++</div>
<div class="line">   <span class="comment">// get the value of a key that doesn&#39;t exist</span></div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetValue(<span class="stringliteral">&quot;section1&quot;</span>, <span class="stringliteral">&quot;key99&quot;</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// get the value of a key that does exist</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetValue(<span class="stringliteral">&quot;section1&quot;</span>, <span class="stringliteral">&quot;key1&quot;</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_STREQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>, <span class="stringliteral">&quot;value1&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// get the value of a key which may have multiple </span></div>
<div class="line">   <span class="comment">// values. If hasMultiple is true, then there are</span></div>
<div class="line">   <span class="comment">// multiple values and just one value has been returned</span></div>
<div class="line">   <span class="keywordtype">bool</span> <a class="code hl_struct" href="structSI__GenericNoCase.html">hasMulti</a>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetValue(<span class="stringliteral">&quot;section1&quot;</span>, <span class="stringliteral">&quot;key1&quot;</span>, <span class="keyword">nullptr</span>, &amp;<a class="code hl_struct" href="structSI__GenericNoCase.html">hasMulti</a>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_STREQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>, <span class="stringliteral">&quot;value1&quot;</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">hasMulti</a>, <span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetValue(<span class="stringliteral">&quot;section1&quot;</span>, <span class="stringliteral">&quot;key2&quot;</span>, <span class="keyword">nullptr</span>, &amp;<a class="code hl_struct" href="structSI__GenericNoCase.html">hasMulti</a>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_STREQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>, <span class="stringliteral">&quot;value2.1&quot;</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">hasMulti</a>, <span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// get all values of a key with multiple values</span></div>
<div class="line">   CSimpleIniA::TNamesDepend <a class="code hl_struct" href="structSI__GenericNoCase.html">values</a>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetAllValues(<span class="stringliteral">&quot;section1&quot;</span>, <span class="stringliteral">&quot;key2&quot;</span>, <a class="code hl_struct" href="structSI__GenericNoCase.html">values</a>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// sort the values into a known order, in this case we want</span></div>
<div class="line">   <span class="comment">// the original load order</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">values</a>.sort(CSimpleIniA::Entry::LoadOrder());</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// output all of the items</span></div>
<div class="line">   CSimpleIniA::TNamesDepend::const_iterator <a class="code hl_struct" href="structSI__GenericNoCase.html">it</a>;</div>
<div class="line">   <span class="keywordflow">for</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">it</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">values</a>.begin(); <a class="code hl_struct" href="structSI__GenericNoCase.html">it</a> != <a class="code hl_struct" href="structSI__GenericNoCase.html">values</a>.end(); ++<a class="code hl_struct" href="structSI__GenericNoCase.html">it</a>) {</div>
<div class="line">       <a class="code hl_struct" href="structSI__GenericNoCase.html">printf</a>(<span class="stringliteral">&quot;value = &#39;%s&#39;\n&quot;</span>, <a class="code hl_struct" href="structSI__GenericNoCase.html">it</a>-&gt;pItem);</div>
<div class="line">   }</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12"></a>
MODIFYING DATA</h3>
<div class="fragment"><div class="line">++</div>
<div class="line">   <span class="comment">// add a new section </span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.SetValue(<span class="stringliteral">&quot;section1&quot;</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> &lt; 0) { <span class="comment">/* handle error */</span> };</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a>, SI_INSERTED); </div>
<div class="line"> </div>
<div class="line">   <span class="comment">// not an error to add one that already exists</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.SetValue(<span class="stringliteral">&quot;section1&quot;</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> &lt; 0) { <span class="comment">/* handle error */</span> };</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a>, SI_UPDATED);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// get the value of a key that doesn&#39;t exist</span></div>
<div class="line">   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetValue(<span class="stringliteral">&quot;section2&quot;</span>, <span class="stringliteral">&quot;key1&quot;</span>, <span class="stringliteral">&quot;default-value&quot;</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_STREQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>, <span class="stringliteral">&quot;default-value&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// adding a key (the section will be added if needed)</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.SetValue(<span class="stringliteral">&quot;section2&quot;</span>, <span class="stringliteral">&quot;key1&quot;</span>, <span class="stringliteral">&quot;value1&quot;</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> &lt; 0) { <span class="comment">/* handle error */</span> };</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a>, SI_INSERTED);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// ensure it is set to expected value</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetValue(<span class="stringliteral">&quot;section2&quot;</span>, <span class="stringliteral">&quot;key1&quot;</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_STREQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>, <span class="stringliteral">&quot;value1&quot;</span>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// change the value of a key</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.SetValue(<span class="stringliteral">&quot;section2&quot;</span>, <span class="stringliteral">&quot;key1&quot;</span>, <span class="stringliteral">&quot;value2&quot;</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> &lt; 0) { <span class="comment">/* handle error */</span> };</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a>, SI_UPDATED);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// ensure it is set to expected value</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.GetValue(<span class="stringliteral">&quot;section2&quot;</span>, <span class="stringliteral">&quot;key1&quot;</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_STREQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">pv</a>, <span class="stringliteral">&quot;value2&quot;</span>);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md13"></a>
DELETING DATA</h3>
<div class="fragment"><div class="line">++</div>
<div class="line">   <span class="comment">// deleting a key from a section. Optionally the entire</span></div>
<div class="line">   <span class="comment">// section may be deleted if it is now empty.</span></div>
<div class="line">   <span class="keywordtype">bool</span> <a class="code hl_struct" href="structSI__GenericNoCase.html">done</a>, <a class="code hl_struct" href="structSI__GenericNoCase.html">deleteSectionIfEmpty</a> = <span class="keyword">true</span>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">done</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.Delete(<span class="stringliteral">&quot;section1&quot;</span>, <span class="stringliteral">&quot;key1&quot;</span>, <a class="code hl_struct" href="structSI__GenericNoCase.html">deleteSectionIfEmpty</a>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">done</a>, <span class="keyword">true</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">done</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.Delete(<span class="stringliteral">&quot;section1&quot;</span>, <span class="stringliteral">&quot;key1&quot;</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">done</a>, <span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// deleting an entire section and all keys in it</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">done</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.Delete(<span class="stringliteral">&quot;section2&quot;</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">done</a>, <span class="keyword">true</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">done</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.Delete(<span class="stringliteral">&quot;section2&quot;</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">done</a>, <span class="keyword">false</span>);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md14"></a>
SAVING DATA</h3>
<div class="fragment"><div class="line">++</div>
<div class="line">   <span class="comment">// save the data to a string</span></div>
<div class="line">   std::string <a class="code hl_struct" href="structSI__GenericNoCase.html">data</a>;</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.Save(<a class="code hl_struct" href="structSI__GenericNoCase.html">data</a>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> &lt; 0) { <span class="comment">/* handle error */</span> };</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a>, SI_OK);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// save the data back to the file</span></div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> = <a class="code hl_struct" href="structSI__GenericNoCase.html">ini</a>.SaveFile(<span class="stringliteral">&quot;example2.ini&quot;</span>);</div>
<div class="line">   <span class="keywordflow">if</span> (<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a> &lt; 0) { <span class="comment">/* handle error */</span> };</div>
<div class="line">   <a class="code hl_struct" href="structSI__GenericNoCase.html">ASSERT_EQ</a>(<a class="code hl_struct" href="structSI__GenericNoCase.html">rc</a>, SI_OK);</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
